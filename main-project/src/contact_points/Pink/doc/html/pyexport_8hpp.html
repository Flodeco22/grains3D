<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pink: pyexport.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Pink<span id="projectnumber">&#160;0.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">pyexport.hpp File Reference<div class="ingroups"><a class="el" href="group__development.html">Development</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This file defines the macros, which facilitate the export of functions in Python. The emphasis is given to multiple inclusion of template functions with all different types. As python cannot 'compile' in runtime, you must compile the template functions with all the possible image types. The macros and templates in this file ease you do that.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a21cc63956b87ab91321e198a564acef1" id="r_a21cc63956b87ab91321e198a564acef1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pyexport_8hpp.html#a21cc63956b87ab91321e198a564acef1">UI_EXPORT_FUNCTION</a>(FNAME,  FN,  ARGS,  DOC)</td></tr>
<tr class="memdesc:a21cc63956b87ab91321e198a564acef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a Python wrapper function for a C++ function using all image types.  <br /></td></tr>
<tr class="separator:a21cc63956b87ab91321e198a564acef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1045c89d9ddcda21ee8b8011b014c0" id="r_a6d1045c89d9ddcda21ee8b8011b014c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pyexport_8hpp.html#a6d1045c89d9ddcda21ee8b8011b014c0">UI_DEFINE_FUNCTION</a>(FNAME,  FN,  ARGS,  DOC)</td></tr>
<tr class="memdesc:a6d1045c89d9ddcda21ee8b8011b014c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a Python wrapper function for a C++ function using all image types.  <br /></td></tr>
<tr class="separator:a6d1045c89d9ddcda21ee8b8011b014c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1558e2b4d61d871633fd3816fe2939" id="r_a6a1558e2b4d61d871633fd3816fe2939"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pyexport_8hpp.html#a6a1558e2b4d61d871633fd3816fe2939">UI_WRAP_CPP</a>(FNAME,  FN,  ARGS,  DOC)</td></tr>
<tr class="memdesc:a6a1558e2b4d61d871633fd3816fe2939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a Python wrapper function for a C++ function using all image types.  <br /></td></tr>
<tr class="separator:a6a1558e2b4d61d871633fd3816fe2939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4012375b3fdcbfef6f64c46d7f97cb7" id="r_ad4012375b3fdcbfef6f64c46d7f97cb7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pyexport_8hpp.html#ad4012375b3fdcbfef6f64c46d7f97cb7">UI_EXPORT_ONE_FUNCTION</a>(FNAME,  FN,  ARGS,  DOC)</td></tr>
<tr class="memdesc:ad4012375b3fdcbfef6f64c46d7f97cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a Python wrapper function for a C++ function using all image types.  <br /></td></tr>
<tr class="separator:ad4012375b3fdcbfef6f64c46d7f97cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1dc94399f4a8982c2baf64f4dcd9a66" id="r_aa1dc94399f4a8982c2baf64f4dcd9a66"><td class="memItemLeft" align="right" valign="top"><a id="aa1dc94399f4a8982c2baf64f4dcd9a66" name="aa1dc94399f4a8982c2baf64f4dcd9a66"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EXPORT_FUNCTION</b>(z,  n,  text)&#160;&#160;&#160;  export_function##n();</td></tr>
<tr class="memdesc:aa1dc94399f4a8982c2baf64f4dcd9a66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates and 'void export_function15();' declaration. It is used by the UI_WRAP_FUNCTION in 'pypink.cpp' Generates and 'export_function15();' declaration. It is used by the UI_WRAP_FUNCTION in 'pypink.cpp'. <br /></td></tr>
<tr class="separator:aa1dc94399f4a8982c2baf64f4dcd9a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb74b07352e8b4ac4ba4be2ffd6af867" id="r_aeb74b07352e8b4ac4ba4be2ffd6af867"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pyexport_8hpp.html#aeb74b07352e8b4ac4ba4be2ffd6af867">CALL_EXPORTED_FUNCTIONS</a>(n)&#160;&#160;&#160;  BOOST_PP_REPEAT(n, <a class="el" href="pyexport_8hpp.html#aa1dc94399f4a8982c2baf64f4dcd9a66">EXPORT_FUNCTION</a>, ~)</td></tr>
<tr class="memdesc:aeb74b07352e8b4ac4ba4be2ffd6af867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the exported functions.  <br /></td></tr>
<tr class="separator:aeb74b07352e8b4ac4ba4be2ffd6af867"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines the macros, which facilitate the export of functions in Python. The emphasis is given to multiple inclusion of template functions with all different types. As python cannot 'compile' in runtime, you must compile the template functions with all the possible image types. The macros and templates in this file ease you do that. </p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> py_maxflow_export(){</div>
<div class="line"> </div>
<div class="line"> boost::python::def( <span class="stringliteral">&quot;cpp_maxflow_float&quot;</span>, &amp;maxflow_float,</div>
<div class="line">      args(<span class="stringliteral">&quot;source and sink&quot;</span>, <span class="stringliteral">&quot;boundaries&quot;</span>, <span class="stringliteral">&quot;iteration&quot;</span>, <span class="stringliteral">&quot;tau&quot;</span>, <span class="stringliteral">&quot;the number of threads&quot;</span>),</div>
<div class="line">      <span class="stringliteral">&quot;maximal flows, returns the image (potential field) \n&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot; \n&quot;</span></div>
<div class="line"><span class="comment">// end of the documenation</span></div>
<div class="line">   );</div>
<div class="line"> </div>
<div class="line"> boost::python::def( <span class="stringliteral">&quot;cpp_maxflow_cami_float&quot;</span>, &amp;maxflow_cami,</div>
<div class="line">      args(<span class="stringliteral">&quot;source and sink&quot;</span>, <span class="stringliteral">&quot;boundaries&quot;</span>, <span class="stringliteral">&quot;iteration&quot;</span>, <span class="stringliteral">&quot;tau&quot;</span>, <span class="stringliteral">&quot;the number of threads&quot;</span>),</div>
<div class="line">      <span class="stringliteral">&quot;maximal flows, returns the flow (float array of size pixels * dimension ) \n&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot; \n&quot;</span></div>
<div class="line"><span class="comment">// end of the documenation</span></div>
<div class="line">   );</div>
</div><!-- fragment --> </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aeb74b07352e8b4ac4ba4be2ffd6af867" name="aeb74b07352e8b4ac4ba4be2ffd6af867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb74b07352e8b4ac4ba4be2ffd6af867">&#9670;&#160;</a></span>CALL_EXPORTED_FUNCTIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALL_EXPORTED_FUNCTIONS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;  BOOST_PP_REPEAT(n, <a class="el" href="pyexport_8hpp.html#aa1dc94399f4a8982c2baf64f4dcd9a66">EXPORT_FUNCTION</a>, ~)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call the exported functions. </p>
<div class="fragment"><div class="line">export_function0();</div>
<div class="line">export_function1();</div>
<div class="line">export_function2();</div>
<div class="line">export_function3();</div>
<div class="line">export_function4();</div>
<div class="line">...</div>
<div class="line">export_function##n();    </div>
</div><!-- fragment --><p>The exported functions are generated by the WRAP macros. </p>

</div>
</div>
<a id="a6d1045c89d9ddcda21ee8b8011b014c0" name="a6d1045c89d9ddcda21ee8b8011b014c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1045c89d9ddcda21ee8b8011b014c0">&#9670;&#160;</a></span>UI_DEFINE_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UI_DEFINE_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FNAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ARGS, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">DOC&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a Python wrapper function for a C++ function using all image types. </p>
<p>This macro generates a block with function calls for all image functions. You can call it from BOOST_PYTHON_MODULE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FNAME</td><td>The function name in Python (a string) </td></tr>
    <tr><td class="paramname">FN</td><td>The C++ template function to wrap </td></tr>
    <tr><td class="paramname">ARGS</td><td>The description of the arguments (see <a class="el" href="python_export.html">Exporting functions to Python</a>) </td></tr>
    <tr><td class="paramname">DOC</td><td>The documentation string. This string appears in Python if the help function is called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a21cc63956b87ab91321e198a564acef1" name="a21cc63956b87ab91321e198a564acef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21cc63956b87ab91321e198a564acef1">&#9670;&#160;</a></span>UI_EXPORT_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UI_EXPORT_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FNAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ARGS, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">DOC&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a Python wrapper function for a C++ function using all image types. </p>
<p>This macro generates a function named "FNAME_export()" which you can call from 'pypink.cpp'. You can use this function to export a template function. It takes an image type as template parameter and it substitutes all the image types in it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FNAME</td><td>The function name in Python (a string) </td></tr>
    <tr><td class="paramname">FN</td><td>The C++ template function to wrap </td></tr>
    <tr><td class="paramname">ARGS</td><td>The description of the arguments (see <a class="el" href="python_export.html">Exporting functions to Python</a>) </td></tr>
    <tr><td class="paramname">DOC</td><td>The documentation string. This string appears in Python if the help function is called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad4012375b3fdcbfef6f64c46d7f97cb7" name="ad4012375b3fdcbfef6f64c46d7f97cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4012375b3fdcbfef6f64c46d7f97cb7">&#9670;&#160;</a></span>UI_EXPORT_ONE_FUNCTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UI_EXPORT_ONE_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FNAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ARGS, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">DOC&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                                                        \</div>
<div class="line">  <span class="keywordtype">void</span> FNAME##_export()                                                 \</div>
<div class="line">  {                                                                     \</div>
<div class="line">    boost::python::def( BOOST_PP_STRINGIZE(FNAME), &amp;BOOST_PP_EXPAND(FN),               \</div>
<div class="line">         ARGS,                                                          \</div>
<div class="line">         DOC                                                            \</div>
<div class="line">      );                                                                \</div>
<div class="line">  }</div>
</div><!-- fragment -->
<p>Generates a Python wrapper function for a C++ function using all image types. </p>
<p>This macro generates a function named "FNAME_export()" which you can call from 'pypink.cpp'. You can use this function to export a template function. It takes an image type as template parameter and it substitutes all the image types in it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FNAME</td><td>The function name in Python (a string) </td></tr>
    <tr><td class="paramname">FN</td><td>The C++ template function to wrap </td></tr>
    <tr><td class="paramname">ARGS</td><td>The description of the arguments (see <a class="el" href="python_export.html">Exporting functions to Python</a>) </td></tr>
    <tr><td class="paramname">DOC</td><td>The documentation string. This string appears in Python if the help function is called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a1558e2b4d61d871633fd3816fe2939" name="a6a1558e2b4d61d871633fd3816fe2939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a1558e2b4d61d871633fd3816fe2939">&#9670;&#160;</a></span>UI_WRAP_CPP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UI_WRAP_CPP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FNAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ARGS, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">DOC&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <span class="keywordtype">void</span> BOOST_PP_CAT(export_function, BOOST_PP_COUNTER)()                \</div>
<div class="line">  {                                                                     \</div>
<div class="line">    boost::python::def( FNAME, BOOST_PP_EXPAND(FN)&lt;<a class="code hl_class" href="classpink_1_1ujoi.html">pink::char_image</a>&gt;,                        \</div>
<div class="line">         ARGS,                                                          \</div>
<div class="line">         DOC                                                            \</div>
<div class="line">      );                                                                \</div>
<div class="line">                                                                        \</div>
<div class="line">    boost::python::def( FNAME, BOOST_PP_EXPAND(FN)&lt;<a class="code hl_class" href="classpink_1_1ujoi.html">pink::short_image</a>&gt;,                       \</div>
<div class="line">         ARGS,                                                          \</div>
<div class="line">         DOC                                                            \</div>
<div class="line">      );                                                                \</div>
<div class="line">                                                                        \</div>
<div class="line">    boost::python::def( FNAME, BOOST_PP_EXPAND(FN)&lt;<a class="code hl_class" href="classpink_1_1ujoi.html">pink::int_image</a>&gt;,                         \</div>
<div class="line">         ARGS,                                                          \</div>
<div class="line">         DOC                                                            \</div>
<div class="line">      );                                                                \</div>
<div class="line">                                                                        \</div>
<div class="line">    boost::python::def( FNAME, BOOST_PP_EXPAND(FN)&lt;<a class="code hl_class" href="classpink_1_1ujoi.html">pink::float_image</a>&gt;,                       \</div>
<div class="line">         ARGS,                                                          \</div>
<div class="line">         DOC                                                            \</div>
<div class="line">      );                                                                \</div>
<div class="line">                                                                        \</div>
<div class="line">    boost::python::def( FNAME, BOOST_PP_EXPAND(FN)&lt;<a class="code hl_class" href="classpink_1_1ujoi.html">pink::double_image</a>&gt;,                      \</div>
<div class="line">         ARGS,                                                          \</div>
<div class="line">         DOC                                                            \</div>
<div class="line">      );                                                                \</div>
<div class="line">                                                                        \</div>
<div class="line">                                                                        \</div>
<div class="line">  }</div>
<div class="ttc" id="aclasspink_1_1ujoi_html"><div class="ttname"><a href="classpink_1_1ujoi.html">pink::ujoi&lt; unsigned char &gt;</a></div></div>
</div><!-- fragment -->
<p>Generates a Python wrapper function for a C++ function using all image types. </p>
<p>You can use this function to export a template function from within 'pypink.cpp'. It takes an image type as template parameter and it substitutes all the image types in it.</p>
<dl class="section note"><dt>Note</dt><dd>This macro calls the boost python's 'def' function with all the image types.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FNAME</td><td>The function name in Python (a string) </td></tr>
    <tr><td class="paramname">FN</td><td>The C++ template function to wrap </td></tr>
    <tr><td class="paramname">ARGS</td><td>The description of the arguments (see <a class="el" href="python_export.html">Exporting functions to Python</a>) </td></tr>
    <tr><td class="paramname">DOC</td><td>The documentation string. This string appears in Python if the help function is called. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
